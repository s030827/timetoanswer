<%= form_with(model: [ :admins_backoffice, @admin ], local: true) do |form| %>
  <div class="field container">

    <% if @admin.errors.any? %>
      <div class="notification is-danger">
        <button class="delete"></button>
        <ul>
          <% @admin.errors.full_messages.each do |msg| %>
              <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="field">
      <%= form.label :email, class: "label" %>
      <div class="control">
        <%= form.text_field :email, class: "input" %>
      </div>
    </div>

    <div class="field">
      <%= form.label :password, class: "label" %>
      <div class="control">
        <%= form.text_field :password, class: "input" %>
      </div>
    </div>

    <div class="field">
      <%= form.label :password_confirmation, class: "label" %>
      <div class="control">
        <%= form.text_field :password_confirmation, class: "input" %>
      </div>
    </div>

    <div class="control">
      <button class="button is-primary">Submit</button>
    </div>
  </div>
<% end %>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    (document.querySelectorAll('.notification .delete') || []).forEach(($delete) => {
      $notification = $delete.parentNode;
      $delete.addEventListener('click', () => {
        $notification.parentNode.removeChild($notification);
      });
    });
  });
</script>